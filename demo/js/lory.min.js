!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.lory=b()}):"object"==typeof exports?module.exports=b():a.lory=b()}(this,function(){"use strict";var a=function(a,b){if("undefined"==typeof b&&(b=a,a=0),a>b){var c=a;a=b,b=c}return function(c){return Math.min(Math.max(c,a),b)}},b=function(a,b){var c={};return Object.keys(b).map(function(d){c[d]=a&&a.hasOwnProperty(d)?a[d]:b[d]}),c},c=function(c,d){var e,f,g,h,i,j,k,l=0,m={},n=c.querySelector(".js_frame"),o=n.querySelector(".js_slides"),p=c.querySelector(".js_prev"),q=c.querySelector(".js_next"),r={slidesToScroll:1,slideSpeed:400,rewindSpeed:600,snapBackSpeed:200,ease:"cubic-bezier(0.455, 0.03, 0.515, 0.955)",rewind:!1},s=function(){m=b(d,r),h=Array.prototype.slice.call(o.children),t(),p&&q&&(p.addEventListener("click",u),q.addEventListener("click",v)),o.addEventListener("touchstart",y),window.addEventListener("resize",B)},t=function(){f=o.getBoundingClientRect().width||o.offsetWidth,g=n.getBoundingClientRect().width||n.offsetWidth,w(0,m.rewindSpeed,m.ease),l=0,e={x:o.offsetLeft,y:o.offsetTop}},u=function(){x(!1)},v=function(){x(!0)},w=function(a,b,c){var d=o&&o.style;d&&(d.webkitTransitionTimingFunction=d.MozTransitionTimingFunction=d.msTransitionTimingFunction=d.OTransitionTimingFunction=d.transitionTimingFunction=c,d.webkitTransitionDuration=d.MozTransitionDuration=d.msTransitionDuration=d.OTransitionDuration=d.transitionDuration=b+"ms",d.webkitTransform="translate3d("+a+"px, 0, 0)",d.msTransform=d.MozTransform=d.OTransform="translateX("+a+"px)")},x=function(b){var c,d=f-g,i=a(0,h.length-1),j=a(-1*d,0),k=m.slideSpeed;c=b?l+m.slidesToScroll:l-m.slidesToScroll,c=i(c);var n=j(-1*h[c].offsetLeft);m.rewind&&(Math.abs(e.x)===d&&b?(n=0,c=0,k=m.rewindSpeed):0===Math.abs(e.x)&&!b),w(n,k,m.ease),e.x=n,h[c].offsetLeft<=d&&(l=c)},y=function(a){var b=a.touches[0];i={x:b.pageX,y:b.pageY,time:Date.now()},k=void 0,j={},o.addEventListener("touchmove",z),o.addEventListener("touchend",A)},z=function(a){var b=a.touches[0];j={x:b.pageX-i.x,y:b.pageY-i.y},"undefined"==typeof k&&(k=!!(k||Math.abs(j.x)<Math.abs(j.y))),k||w(e.x+j.x,0,m.ease)},A=function(){var a=Date.now()-i.time,b=Number(a)<250&&Math.abs(j.x)>15||Math.abs(j.x)>g/3,c=!l&&j.x>0||l===h.length-1&&j.x<0,d=j.x<0;k||(b&&!c?x(d?!0:!1):w(e.x,m.snapBackSpeed)),n.removeEventListener("touchmove"),n.removeEventListener("touchend")},B=function(){t()};return s(),{setup:function(){s()},reset:function(){t()},slide:function(a){x(a)},prev:u,next:v}};return c});