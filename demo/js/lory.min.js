!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.lory=b():a.lory=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";var d=c(1),e=c(2),f=c(3),g=c(4),h=c(5),i=[].slice,j=function(a,b){var c,j,k,l,m,n=0,o={};"undefined"!=typeof jQuery&&a instanceof jQuery&&(a=a[0]);var p,q,r,s,t,u,v,w,x={slidesToScroll:1,slideSpeed:300,rewindSpeed:600,snapBackSpeed:200,ease:"ease",rewind:!1,infinite:!1,classNameFrame:"js_frame",classNameSlideContainer:"js_slides",classNamePrevCtrl:"js_prev",classNameNextCtrl:"js_next"},y=function(a){var b=a.slice(0,o.infinite),c=a.slice(a.length-o.infinite,a.length);return b.forEach(function(a){var b=a.cloneNode(!0);q.appendChild(b)}),c.reverse().forEach(function(a){var b=a.cloneNode(!0);q.insertBefore(b,q.firstChild)}),q.addEventListener(t.transitionEnd,F),i.call(q.children)},z=function(){h(a,"before.lory.init"),f(),t=g(),o=e(b,x),p=a.getElementsByClassName(o.classNameFrame)[0],q=p.getElementsByClassName(o.classNameSlideContainer)[0],r=a.getElementsByClassName(o.classNamePrevCtrl)[0],s=a.getElementsByClassName(o.classNameNextCtrl)[0],c={x:q.offsetLeft,y:q.offsetTop},l=o.infinite?y(i.call(q.children)):i.call(q.children),A(),r&&s&&(r.addEventListener("click",B),s.addEventListener("click",C)),q.addEventListener("touchstart",G),window.addEventListener("resize",J),h(a,"after.lory.init")},A=function(){j=q.getBoundingClientRect().width||q.offsetWidth,k=p.getBoundingClientRect().width||p.offsetWidth,k===j&&(j=l.reduce(function(a,b){return a+b.getBoundingClientRect().width||b.offsetWidth},0)),n=0,o.infinite?(D(-1*l[n+o.infinite].offsetLeft,0,null),n+=o.infinite,c.x=-1*l[n].offsetLeft):D(0,o.rewindSpeed,o.ease)},B=function(){E(!1,!1)},C=function(){E(!1,!0)},D=function(a,b,c){var d=q&&q.style;d&&(d[t.transition+"TimingFunction"]=c,d[t.transition+"Duration"]=b+"ms",d[t.transform]="translate3d("+a+"px, 0, 0)")},E=function(b,e){h(a,"before.lory.slide",{currentSlide:n,nextSlide:e?n+1:n-1});var f=Math.round(j-k),g=d(0,l.length-1),i=o.slideSpeed,p=d(-1*f,0);"number"!=typeof b&&(b=e?n+o.slidesToScroll:n-o.slidesToScroll),b=g(b),o.infinite&&void 0===e&&(b+=o.infinite);var q=p(-1*l[b].offsetLeft);o.rewind&&Math.abs(c.x)===f&&e&&(q=0,b=0,i=o.rewindSpeed),D(q,i,o.ease),c.x=q,l[b].offsetLeft<=f&&(n=b),o.infinite&&Math.abs(q)===f&&e&&(n=o.infinite,c.x=-1*l[n].offsetLeft,m=function(){D(-1*l[n].offsetLeft,0,null)}),o.infinite&&0===Math.abs(q)&&!e&&(n=l.length-2*o.infinite,c.x=-1*l[n].offsetLeft,m=function(){D(-1*l[n].offsetLeft,0,null)}),h(a,"after.lory.slide",{currentSlide:n})},F=function(){m&&(m(),m=void 0)},G=function(b){var c=b.touches[0];u={x:c.pageX,y:c.pageY,time:Date.now()},w=void 0,v={},q.addEventListener("touchmove",H),q.addEventListener("touchend",I),h(a,"on.lory.touchstart")},H=function(b){var d=b.touches[0];v={x:d.pageX-u.x,y:d.pageY-u.y},"undefined"==typeof w&&(w=!!(w||Math.abs(v.x)<Math.abs(v.y))),w||(h(a,"before.lory.slide"),D(c.x+v.x,0,null))},I=function(){var b=Date.now()-u.time,d=Number(b)<300&&Math.abs(v.x)>25||Math.abs(v.x)>k/3,e=!n&&v.x>0||n===l.length-1&&v.x<0,f=v.x<0;w||(d&&!e?E(!1,f):D(c.x,o.snapBackSpeed)),p.removeEventListener("touchmove"),p.removeEventListener("touchend"),h(a,"on.lory.touchend")},J=function(){h(a,"on.lory.resize"),A()},K=function(){return h(a,"on.lory.destroy"),q.removeEventListener(t.transitionEnd,F),q.removeEventListener("touchstart",G),window.removeEventListener("resize",J),r&&r.removeEventListener("click",B),s&&s.removeEventListener("click",C),c=void 0,j=void 0,k=void 0,n=void 0,o=void 0,l=void 0,m=void 0,a=void 0,p=void 0,q=void 0,r=void 0,s=void 0,null};return z(),{slideTo:function(a){E(a)},returnIndex:function(){return n},setup:z,reset:A,prev:B,next:C,destroy:K}};a.exports=j},function(a,b){"use strict";var c=function(a,b){if("undefined"==typeof b&&(b=a,a=0),a>b){var c=a;a=b,b=c}return function(c){return Math.min(Math.max(c,a),b)}};a.exports=c},function(a,b){"use strict";var c=function(a,b){var c={};return Object.keys(b).map(function(d){a&&a.hasOwnProperty(d)?c[d]=a[d]:c[d]=b[d]}),c};a.exports=c},function(a,b){"use strict";var c=function(){try{new b("test")}catch(a){var b=function(a,b){var c;return b=b||{bubbles:!1,cancelable:!1,detail:void 0},c=document.createEvent("CustomEvent"),c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c};b.prototype=window.Event.prototype,window.CustomEvent=b}};a.exports=c},function(a,b){"use strict";var c=function(){var a,b,c;return function(){var d,e=document.createElement("_").style;""===e[d="webkitTransition"]&&(c="webkitTransitionEnd",b=d),""===e[d="transition"]&&(c="transitionend",b=d),""===e[d="webkitTransform"]&&(a=d),""===e[d="msTransform"]&&(a=d),""===e[d="transform"]&&(a=d)}(),{transform:a,transition:b,transitionEnd:c}};a.exports=c},function(a,b){"use strict";var c=function(a,b,c){var d=new CustomEvent(b,{detail:c,bubbles:!0,cancelable:!0});a.dispatchEvent(d)};a.exports=c}])});